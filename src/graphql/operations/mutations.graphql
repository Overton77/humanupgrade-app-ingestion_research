mutation Login($email: String!, $password: String!) {
  login(email: $email, password: $password) {
    token
    user {
      id
      email
      name
      role
    }
  }
}

# --- Business Mutations ---

mutation UpsertBusinessWithRelations(
  $input: BusinessUpsertRelationFieldsInput!
) {
  upsertBusinessWithRelations(input: $input) {
    id
    name
    description
    website
    mediaLinks {
      url
      description
      posterUrl
    }
    products {
      id
      name
      description
      price
      ingredients
      sourceUrl
      mediaLinks {
        url
        description
        posterUrl
      }
      compounds {
        id
        name
        description
        aliases
        mediaLinks {
          url
          description
          posterUrl
        }
      }
    }
    owners {
      id
      name
      role
      bio
      mediaLinks {
        url
        description
        posterUrl
      }
    }
    executives {
      person {
        id
        name
        role
        bio
        mediaLinks {
          url
          description
          posterUrl
        }
      }
      title
      role
    }
  }
}

# --- Product Mutations ---

mutation UpsertProductWithRelations($input: ProductUpsertRelationFieldsInput!) {
  upsertProductWithRelations(input: $input) {
    id
    name
    description
    price
    ingredients
    sourceUrl
    mediaLinks {
      url
      description
      posterUrl
    }
    business {
      id
      name
      description
      website
    }
    compounds {
      id
      name
      description
      aliases
      mediaLinks {
        url
        description
        posterUrl
      }
    }
  }
}

# --- Episode Mutations ---

mutation UpdateEpisodeRelations($input: EpisodeUpdateRelationFieldsInput!) {
  updateEpisodeRelations(input: $input) {
    id
    channelName
    episodeNumber
    episodeTitle
    episodePageUrl
    episodeTranscriptUrl
    publishedAt
    summaryShort
    webPageSummary
    summaryDetailed
    publishedSummary
    youtubeVideoId
    youtubeWatchUrl
    youtubeEmbedUrl
    takeaways
    s3TranscriptKey
    s3TranscriptUrl
    mediaLinks {
      url
      description
      posterUrl
    }
    guests {
      id
      name
      role
      bio
      mediaLinks {
        url
        description
        posterUrl
      }
    }
    sponsorBusinesses {
      id
      name
      description
      website
      mediaLinks {
        url
        description
        posterUrl
      }
    }
    protocols {
      id
      name
      description
      categories
      goals
      steps
      cautions
      aliases
      sourceUrl
    }
  }
} 



# -- Case Study Mutations -- #

# Person, Compound, Episode Mutations and helpers if needed
